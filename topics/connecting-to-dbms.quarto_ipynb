{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "---\n",
        "title: \"Connecting to DBMS\"\n",
        "---\n",
        "\n",
        "\n",
        "# Connecting to DBMS\n",
        "\n",
        "## Connecting to DBMS\n",
        "\n",
        ":::: {.columns}\n",
        "::: {.column width=50%}\n",
        "###  Overview of the assignment\n",
        "\n",
        "* We're using mysql DBMS.\n",
        "* There are multiple ways to connect\n",
        "* Lots of tools to install\n",
        "\n",
        "*Each approach is handy for one aspect of development. You need to use all the ways!*\n",
        "\n",
        ":::\n",
        "::: {.column width=50%}\n",
        "### Ways to connect\n",
        "\n",
        "1. phpMyAdmin - via the web\n",
        "1. ssh - to a linux terminal\n",
        "1. vscode - using SQLTools extension\n",
        "1. python - using a connection\n",
        "\n",
        ":::\n",
        "::::\n",
        "\n",
        "## Connecting to DBMS\n",
        "\n",
        ":::: {.columns}\n",
        "::: {.column width=50%}\n",
        "###  1. phpmyadmin\n",
        "\n",
        "* <http://cmcs508.com/phpmyadmin>\n",
        "<p>&nbsp;</p>\n",
        "* Username:  24fa_(eid)\n",
        "<p>&nbsp;</p>\n",
        "    - for example: *24fa_jdleonard*\n",
        "<p>&nbsp;</p>\n",
        "* Password: Shout4_(eid)_JOY\n",
        "<p>&nbsp;</p>\n",
        "    - for example, *Shout4_jdleonard_JOY*\n",
        "<p>&nbsp;</p>\n",
        "*This approach is most useful for managing the DBMS but NOT very useful for development.*\n",
        "\n",
        ":::\n",
        "::: {.column width=50%}\n",
        "### 2. SSH to the server\n",
        "\n",
        "* Open a terminal window on your local machine.\n",
        "\n",
        "* Enter these commands on your terminal.\n",
        "\n",
        "```sql\n",
        "ssh 24fa_jdleonard@cmsc508.com\n",
        "password: (Shout4_jdleonard_JOY)\n",
        "\n",
        "mysql -p\n",
        "password: (Shout4_jdleonard_JOY)\n",
        "```\n",
        "\n",
        "<p>&nbsp;</p>\n",
        "*This is the quickest and most efficient approach for directly managing the DBMS but not very useful for development.*\n",
        "\n",
        ":::\n",
        "::::\n",
        "\n",
        "## Connecting to DBMS\n",
        "\n",
        ":::: {.columns}\n",
        "::: {.column width=50%}\n",
        "###  3. Visual Studio Code\n",
        "\n",
        "* Install:\n",
        "\n",
        "    * SQLTOOLS extension\n",
        "    * SQLTOOLS mysql connector\n",
        "\n",
        "* You should see a DB icon on the left\n",
        "\n",
        "* See the connection screen!\n",
        "\n",
        "<p>&nbsp;</p>\n",
        "*This approach is most useful for directly building and coding SQL code.  Lots of cutting and pasting commands through an DB window.*\n",
        "\n",
        ":::\n",
        "::: {.column width=50%}\n",
        "\n",
        "\n",
        "![](assets/L13-vscode-db-connect.png)\n",
        "\n",
        ":::\n",
        "::::\n",
        "\n",
        "## Connecting to DBMS\n",
        "\n",
        ":::: {.columns}\n",
        "::: {.column width=40%}\n",
        "### 4. Python code\n",
        "\n",
        "* Clone your homework repository\n",
        "\n",
        "* Install pyenv, poetry, quarto\n",
        "\n",
        "* Install libraries - different ways\n",
        "\n",
        "    * Auto: using poetry\n",
        "    * Manually using pip\n",
        "    * matplotlib jupyter plotly\n",
        "    * python-dotenv sqlalchemy pymysql\n",
        "\n",
        "* Create a .env file\n",
        "\n",
        "* Create your python code\n",
        "\n",
        ":::\n",
        "::: {.column width=60%}\n",
        "### See explorer.qmd for details!"
      ],
      "id": "39307d78"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "#| eval: true\n",
        "#| echo: true\n",
        "import os\n",
        "import pandas as pd\n",
        "from dotenv import load_dotenv\n",
        "from sqlalchemy import create_engine,text\n",
        "# load credentials from .env file\n",
        "load_dotenv()\n",
        "# store these credentials a dictionary for later reference\n",
        "config = {\n",
        "  'user': os.getenv(\"HW5_USER\"),\n",
        "  'password': os.getenv(\"HW5_PASSWORD\"),\n",
        "  'host': os.getenv(\"HW5_HOST\"),\n",
        "  'database': os.getenv(\"HW5_DB_NAME\")\n",
        "}\n",
        "engine_uri = f\"mysql+pymysql://{config['user']}:{config['password']}@{config['host']}/{config['database']}\"\n",
        "\n",
        "# create a database connection.  THIS IS THE ACTUAL CONNECTION!\n",
        "cnx = create_engine(engine_uri)"
      ],
      "id": "96cbea8c",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "<p>&nbsp;</p>\n",
        "*This approach is most useful for developing the wrapper application around the SQL code.*\n",
        "\n",
        ":::\n",
        "::::\n"
      ],
      "id": "9268e7ca"
    }
  ],
  "metadata": {
    "kernelspec": {
      "name": "python3",
      "language": "python",
      "display_name": "Python 3 (ipykernel)",
      "path": "C:\\Users\\jdleonard\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\cmsc427-yciDUe4a-py3.13\\share\\jupyter\\kernels\\python3"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 5
}