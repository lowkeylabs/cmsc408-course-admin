---
date: 11/27/2023
lecture-id: 21
title: Subqueries and WITH
---

```{python}
#| echo: false
lecture_id = 21
n_rows = 8
```

## Housekeeping

* Homeworks 7 and 8 - turn them in!
* Homework 9 - SQL Funhouse, due 12/11 (last day of class)
* Semester project - due 12/11 (last day of class)


```{python}
#| echo: false
from src.utils import upcoming_calendar
# Set the lecture ID and number of rows to show at the top of this file!
upcoming_calendar( lecture_id, n_rows )
```

# Subqueries

## A common database question

![](./assets/subquery-1.png)

## A common database question

![](./assets/subquery-2.png)

## A common database question

![](./assets/subquery-3.png)

## A common database question

![](./assets/subquery-4.png)

## A common database question

![](./assets/subquery-5.png)

## A common database question

![](./assets/subquery-6.png)

## SELECT statement and order of operations

![](./assets/subquery-7.png)

## Subqueries in the SELECT statement

![](./assets/subquery-8.png)

## Example: subquery in the SELECT

![](./assets/subquery-9.png)

## Example: subquery in the FROM

![](./assets/subquery-10.png)

## Example: subquery in the WHERE

![](./assets/subquery-11.png)

## Example: subquery in the HAVING

![](./assets/subquery-12.png)

## Example: ANY, ALL, IN and EXISTS operators

![](./assets/subquery-13.png)

## Example: ANY, ALL, IN and EXISTS operators

![](./assets/subquery-14.png)

## Correlated subqueries

![](./assets/subquery-15.png)

## Common table expressions (CTE)

![](./assets/subquery-16.png)

## Example: WITH statement

![](./assets/subquery-17.png)

# Homework 9 - SQL Funhouse

## Homework 9 - The World Bank

The World Bank is an international financial institution that provides financial and technical assistance to developing countries around the world.

Its primary goal is to reduce poverty and promote economic development by offering loans, grants, and expertise for various projects, such as infrastructure development, education, and healthcare.

The World Bank also conducts research and analysis to address global development challenges and improve the living conditions of people in low and middle-income countries.

<p>&nbsp;</p>

- <https://www.worldbank.org/en/home> - the home page

- <https://data.worldbank.org/> - the data home page

## Homework 9 - World Development Indicators (WDI)

The World Development Indicators (WDI) is a comprehensive and extensive database maintained by the World Bank, offering a wealth of statistical information on various facets of global development.

It includes data on economic indicators like GDP, inflation rates, and trade, as well as social indicators such as education, health, and poverty.

Researchers, policymakers, analysts and *students in CMSC 508* use the WDI to track development progress, conduct comparative analyses, and make informed decisions to improve the well-being of people around the world.

<p>&nbsp;</p>

- <https://databank.worldbank.org/source/world-development-indicators> - World development indicators

- <https://datacatalog.worldbank.org/search/dataset/0037712/World-Development-Indicators> - the data set and meta data

- <https://cmsc508.com/phpmyadmin>


## Housekeeping

* Homeworks 7 and 8 - turn them in!
* Homework 9 - SQL Funhouse, due 12/11 (last day of class)
* Semester project - due 12/11 (last day of class)


```{python}
#| echo: false
from src.utils import upcoming_calendar
# Set the lecture ID and number of rows to show at the top of this file!
upcoming_calendar( lecture_id, n_rows )
```
