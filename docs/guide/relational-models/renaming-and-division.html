<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Renaming and Division – CMSC 408 - Databases Study Guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../relational-models/relational-algebra-vs-sql.html" rel="next">
<link href="../relational-models/join-operations.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../guide.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">CMSC 408 - Databases Study Guide</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../er-models/index.html" target="_blank"> 
<span class="menu-text">ER Models</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../relational-models/index.html" target="_blank"> 
<span class="menu-text">Relational Models</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../relational-models/intro-to-relational-models.html">Relational Models</a></li><li class="breadcrumb-item"><a href="../relational-models/renaming-and-division.html">Renaming and Division</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">ER Modeling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/overview-of-database-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Database Design*</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/intro-to-er-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro to ER models*</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/entities-and-attributes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Entities and Attributes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/relationships-and-cardinality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relations and Cardinality</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/keys-and-identifiers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Keys and Identifiers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/er-diagramming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ER Diagramming*</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/weak-and-strong-entities.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Weak and Strong Entities*</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/advanced-concepts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Concepts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/best-practices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Best Practices</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../er-models/translating-to-relational-schema.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Translation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Relational Models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../relational-models/intro-to-relational-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Intro to relational models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../relational-models/schemas-and-keys.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schemas and Keys</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../relational-models/basic-operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basic Operations*</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../relational-models/set-operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Set Operations*</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../relational-models/join-operations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Join Operations*</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../relational-models/renaming-and-division.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Renaming and Division</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../relational-models/relational-algebra-vs-sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relational algebra vs SQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../relational-models/advanced-queries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Queries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../relational-models/practical-applications.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical Applications</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#renaming-in-relational-algebra" id="toc-renaming-in-relational-algebra" class="nav-link active" data-scroll-target="#renaming-in-relational-algebra">Renaming in Relational Algebra</a>
  <ul class="collapse">
  <li><a href="#properties-of-the-renaming-operator" id="toc-properties-of-the-renaming-operator" class="nav-link" data-scroll-target="#properties-of-the-renaming-operator">Properties of the Renaming Operator</a></li>
  <li><a href="#explanation-of-properties" id="toc-explanation-of-properties" class="nav-link" data-scroll-target="#explanation-of-properties">Explanation of properties</a></li>
  </ul></li>
  <li><a href="#example-of-renaming-in-queries" id="toc-example-of-renaming-in-queries" class="nav-link" data-scroll-target="#example-of-renaming-in-queries">Example of Renaming in Queries</a></li>
  <li><a href="#introduction-to-division-in-relational-algebra" id="toc-introduction-to-division-in-relational-algebra" class="nav-link" data-scroll-target="#introduction-to-division-in-relational-algebra">Introduction to Division in Relational Algebra</a>
  <ul class="collapse">
  <li><a href="#properties-of-the-division-operator" id="toc-properties-of-the-division-operator" class="nav-link" data-scroll-target="#properties-of-the-division-operator">Properties of the Division Operator</a></li>
  <li><a href="#explanation" id="toc-explanation" class="nav-link" data-scroll-target="#explanation">Explanation:</a></li>
  </ul></li>
  <li><a href="#division-syntax-and-example" id="toc-division-syntax-and-example" class="nav-link" data-scroll-target="#division-syntax-and-example">Division: Syntax and Example</a></li>
  <li><a href="#practical-use-case-for-division" id="toc-practical-use-case-for-division" class="nav-link" data-scroll-target="#practical-use-case-for-division">Practical Use Case for Division</a></li>
  <li><a href="#common-mistakes-with-division" id="toc-common-mistakes-with-division" class="nav-link" data-scroll-target="#common-mistakes-with-division">Common Mistakes with Division</a></li>
  <li><a href="#renaming-and-division-in-query-design" id="toc-renaming-and-division-in-query-design" class="nav-link" data-scroll-target="#renaming-and-division-in-query-design">Renaming and Division in Query Design</a></li>
  <li><a href="#limitations-of-division-in-relational-algebra" id="toc-limitations-of-division-in-relational-algebra" class="nav-link" data-scroll-target="#limitations-of-division-in-relational-algebra">Limitations of Division in Relational Algebra</a></li>
  <li><a href="#alternatives-to-division" id="toc-alternatives-to-division" class="nav-link" data-scroll-target="#alternatives-to-division">Alternatives to Division</a></li>
  <li><a href="#summary-of-renaming-and-division" id="toc-summary-of-renaming-and-division" class="nav-link" data-scroll-target="#summary-of-renaming-and-division">Summary of Renaming and Division</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../relational-models/intro-to-relational-models.html">Relational Models</a></li><li class="breadcrumb-item"><a href="../relational-models/renaming-and-division.html">Renaming and Division</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Renaming and Division</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!--
Hey Chatgpt.  I'd you to play the role of a professor teaching an undergraduate computer science course covering databases.  The course consists of several modules including: entity-relationship models, relational model and relational algebra, normal forms and normalization, and SQL.

The unit covering relational models and relational algebra includes the following topics:

The relational model and relational algebra form the foundation of modern relational databases, providing a framework for data organization and manipulation. These modules will introduce students to the core concepts of the relational model, including relations, keys, and schemas, and guide them through the essential operations of relational algebra. By the end of this series, students will gain the skills to perform complex queries and understand the practical applications of relational databases in real-world scenarios.


1. [**Introduction to the Relational Model**](intro-to-relational-model.qmd)
   - Definition of the relational model.  
   - Key components: relations, tuples, attributes, domains.  
   - The importance of the relational model in modern databases.  

2. [**Relational Schemas and Keys**](relational-schemas-and-keys.qmd)  
   - Defining relational schemas.  
   - Primary keys, candidate keys, and foreign keys.  
   - The role of keys in ensuring data integrity.  

3. [**Relational Algebra: Basic Operations**](relational-algebra-basic-operations.qmd)  
   - Introduction to relational algebra.  
   - Core operations: selection, projection, and union.  
   - Examples and practical applications of these operations.  

4. [**Set Operations in Relational Algebra**](set-operations-in-relational-algebra.qmd)  
   - Set theory basics and their application in relational algebra.  
   - Intersection, difference, and Cartesian product operations.  
   - Combining relations using set operations.  

5. [**Join Operations in Relational Algebra**](join-operations-in-relational-algebra.qmd)  
   - Inner join, outer join, and their types (left, right, full).  
   - Natural join and theta join.  
   - Use cases and examples of different join operations.  

6. [**Renaming and Division in Relational Algebra**](renaming-and-division-in-relational-algebra.qmd)  
   - The renaming operation and its use in query design.  
   - Division operation: definition and examples.  
   - Application of division in relational queries.  

7. [**Relational Algebra vs SQL**](relational-algebra-vs-sql.qmd)  
   - Mapping relational algebra operations to SQL.  
   - Differences between procedural relational algebra and declarative SQL.  
   - Practical examples demonstrating the use of both.  

8. [**Advanced Relational Algebra Queries**](advanced-relational-algebra-queries.qmd)  
   - Nested queries and complex relational algebra operations.  
   - Handling multiple relations and subqueries.  
   - Performance considerations in advanced queries.  

9. [**Practical Applications of the Relational Model**](practical-applications-of-the-relational-model.qmd)  
   - Real-world use cases of the relational model.  
   - The role of relational databases in enterprise and cloud environments.  
   - Limitations of the relational model and when to consider alternatives.  

I'd like you to create 10 slides covering the following topics:

6. [**Renaming and Division in Relational Algebra**](renaming-and-division-in-relational-algebra.qmd)  
   - The renaming operation and its use in query design.  
   - Division operation: definition and examples.  
   - Application of division in relational queries.  


Formatting of each slide is important.  Here are detailed instruction for the formatting of each slide.
1. Each slide should consist of a title denoted in markdown header level 2 (##).
1. Each title should describe the slide contents.  The title should not be numbered, just labeled.
1. Each slide should lead off with 2 sentences summarizing the content of the slide.
1. Each slide should contain 5-7 bullets. The bullets should be included in a special pandoc markdown format as shown below.
1. Each slide should end with an unbolded sentence summarizing the slide.

Below is an example of the formatting:
<start-example>
## Introduction to Entities and Attributes

Entities represent real-world objects or concepts, while attributes describe their characteristics. Understanding these concepts is crucial for effective database design.

::: {.guide-block-left}
- Entities are objects or things in the real world that have a distinct existence.
- Examples include a student, a course, a product, or an employee.
- Attributes are the properties or characteristics of entities.
- Each entity is represented by a set of attributes.
- Attributes describe details like the name, age, or ID of an entity.
:::
::: {.guide-block-right}
:::

*Entities and attributes form the foundation of the data model in database design.*
<end-example>

-->
<p>Renaming and division are essential operations in relational algebra, each playing a crucial role in query design and data manipulation. Renaming clarifies queries by assigning distinct names to relations and attributes, improving readability, especially in complex queries. Division enables the retrieval of tuples related to all values in another set, useful for queries that require complete matches across relations.</p>
<section id="renaming-in-relational-algebra" class="level2">
<h2 class="anchored" data-anchor-id="renaming-in-relational-algebra">Renaming in Relational Algebra</h2>
<p>Renaming allows the assignment of new names to relations or attributes, making complex queries easier to understand. This operation helps avoid ambiguities, especially in self-joins or when handling multiple relations.</p>
<div class="guide-block-left">
<ul>
<li>Renaming provides a way to assign new names to relations and their attributes.</li>
<li>The <code>ρ</code> (rho) operator is used for renaming in relational algebra.</li>
<li>Syntax: <code>ρ(new_name(old_name))</code> for renaming relations.</li>
<li>Renaming is essential when performing self-joins to avoid confusion.</li>
<li>It allows for clearer queries when dealing with complex or long attribute names.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>Renaming enhances clarity in query design, especially when handling multiple relations.</em></p>
<p>Here’s the definition and properties of the <strong>renaming</strong> operation in relational algebra, formatted similarly to the template you provided:</p>
<section id="properties-of-the-renaming-operator" class="level3">
<h3 class="anchored" data-anchor-id="properties-of-the-renaming-operator">Properties of the Renaming Operator</h3>
<div class="guide-block-left">
<p><strong>Definition</strong></p>
<p><span class="math display">\[
\rho_{new\_name}(R) = \{ t \mid t \in R \}
\]</span></p>
<ul>
<li>where <span class="math inline">\(R\)</span> is a relation (table),</li>
<li><span class="math inline">\(new\_name\)</span> is the new name assigned to relation <span class="math inline">\(R\)</span> or one or more of its attributes,</li>
<li>The <strong>renaming</strong> operation is used to assign a new name to either the entire relation or to individual attributes in the relation, preserving the structure and data,</li>
<li>It allows us to avoid ambiguity in cases where relations have overlapping attribute names or when working with complex queries.</li>
</ul>
<p>The renaming operation can be used in three forms: - Renaming the entire relation: <span class="math inline">\(\rho_{S}(R)\)</span> renames relation <span class="math inline">\(R\)</span> to <span class="math inline">\(S\)</span>, - Renaming attributes: <span class="math inline">\(\rho_{(A_1 \rightarrow B_1, A_2 \rightarrow B_2, \dots)}(R)\)</span> renames the attributes <span class="math inline">\(A_1, A_2, \dots\)</span> in <span class="math inline">\(R\)</span> to <span class="math inline">\(B_1, B_2, \dots\)</span>, - Renaming both the relation and its attributes: <span class="math inline">\(\rho_{S(A_1 \rightarrow B_1, A_2 \rightarrow B_2, \dots)}(R)\)</span>.</p>
</div>
<div class="guide-block-right">
<p><strong>Properties</strong></p>
<ul>
<li><strong>Idempotent</strong> – Renaming a relation or attribute multiple times with the same name does not change the result:</li>
</ul>
<p><span class="math display">\[
\rho_{new\_name}(\rho_{new\_name}(R)) = \rho_{new\_name}(R)
\]</span></p>
<ul>
<li><strong>Non-commutative</strong> – The order of renaming different attributes matters:</li>
</ul>
<p><span class="math display">\[
\rho_{(A \rightarrow B)}(\rho_{(B \rightarrow C)}(R)) \neq \rho_{(B \rightarrow C)}(\rho_{(A \rightarrow B)}(R))
\]</span></p>
<ul>
<li><strong>Associative</strong> – Renaming operations can be grouped without affecting the result:</li>
</ul>
<p><span class="math display">\[
\rho_{new\_name_1}(\rho_{new\_name_2}(R)) = \rho_{new\_name_2}(\rho_{new\_name_1}(R))
\]</span></p>
<ul>
<li><strong>Renaming with an empty set</strong> – Renaming an empty relation still results in an empty set:</li>
</ul>
<p><span class="math display">\[
\rho_{new\_name}(\emptyset) = \emptyset
\]</span></p>
<ul>
<li><strong>Renaming preserves all rows and attributes</strong> – The renaming operation only changes names and does not affect the content or structure of the relation:</li>
</ul>
<p><span class="math display">\[
|R| = |\rho_{new\_name}(R)|
\]</span></p>
</div>
</section>
<section id="explanation-of-properties" class="level3">
<h3 class="anchored" data-anchor-id="explanation-of-properties">Explanation of properties</h3>
<ul>
<li><strong>Idempotent</strong>: Renaming a relation or attribute multiple times with the same name has no additional effect.</li>
<li><strong>Non-commutative</strong>: The order in which you rename attributes matters, especially if the renaming involves the same attribute multiple times.</li>
<li><strong>Associative</strong>: Renaming operations can be applied in any order, provided they refer to different attributes or relation names.</li>
<li><strong>Renaming with an empty set</strong>: If the relation is empty, renaming it will still result in an empty relation.</li>
<li><strong>Renaming preserves all rows and attributes</strong>: The renaming operation only affects the labels of relations and attributes, not their content or structure, so the number of rows and attributes remains unchanged.</li>
</ul>
</section>
</section>
<section id="example-of-renaming-in-queries" class="level2">
<h2 class="anchored" data-anchor-id="example-of-renaming-in-queries">Example of Renaming in Queries</h2>
<p>Renaming becomes critical when performing operations like joins, ensuring that attribute names are distinct. This slide provides a simple renaming example to illustrate its importance.</p>
<div class="guide-block-left">
<ul>
<li>Example: <code>ρ(S(Age -&gt; StudentAge))</code> renames the attribute <code>Age</code> to <code>StudentAge</code> in relation <code>S</code>.</li>
<li>Used to avoid name clashes during operations such as joins.</li>
<li>Provides a way to clarify attribute roles in a query.</li>
<li>Enables more readable queries in complex databases.</li>
<li>Essential when working with relations that have identical attribute names.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>Renaming is a flexible tool for improving query readability and structure.</em></p>
</section>
<section id="introduction-to-division-in-relational-algebra" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-division-in-relational-algebra">Introduction to Division in Relational Algebra</h2>
<p>Division is a specialized relational operation used to retrieve tuples that match all combinations of a related set. It is particularly useful when you need to find records related to every value in another relation.</p>
<div class="guide-block-left">
<ul>
<li>Division is used to query for entities that are related to all values in a subset.</li>
<li>The operation works on two relations: a dividend and a divisor.</li>
<li>It returns tuples from the dividend that are associated with all tuples in the divisor.</li>
<li>Typically used in “all” queries, such as “students enrolled in all courses.”</li>
<li>Not as common as basic operations but vital in certain query types.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>Division is a powerful but specific operation that allows querying for “all related” records.</em></p>
<section id="properties-of-the-division-operator" class="level3">
<h3 class="anchored" data-anchor-id="properties-of-the-division-operator">Properties of the Division Operator</h3>
<div class="guide-block-left">
<p><strong>Definition</strong></p>
<p><span class="math display">\[
R_1 \div R_2 = \{ t_1 \mid t_1 \in \pi_{A}(R_1) \text{ and for every } t_2 \in R_2, (t_1, t_2) \in R_1 \}
\]</span></p>
<ul>
<li>where <span class="math inline">\(R_1\)</span> is a relation with attributes <span class="math inline">\(A \cup B\)</span>,</li>
<li><span class="math inline">\(R_2\)</span> is a relation with attributes <span class="math inline">\(B\)</span> (a subset of <span class="math inline">\(R_1\)</span>’s attributes),</li>
<li>The <strong>division</strong> operation returns a new relation consisting of the values of <span class="math inline">\(A\)</span> from <span class="math inline">\(R_1\)</span> that match every tuple in <span class="math inline">\(R_2\)</span>,</li>
<li>Essentially, division finds the tuples in <span class="math inline">\(R_1\)</span> that have a corresponding match for every tuple in <span class="math inline">\(R_2\)</span>.</li>
</ul>
</div>
<div class="guide-block-right">
<p><strong>Properties</strong></p>
<ul>
<li><strong>Not commutative</strong> – The order of relations in the division operation matters:</li>
</ul>
<p><span class="math display">\[
R_1 \div R_2 \neq R_2 \div R_1
\]</span></p>
<ul>
<li><strong>Non-associative</strong> – Division is not associative:</li>
</ul>
<p><span class="math display">\[
(R_1 \div R_2) \div R_3 \neq R_1 \div (R_2 \div R_3)
\]</span></p>
<ul>
<li><strong>Division with an empty set</strong> – If <span class="math inline">\(R_2\)</span> is an empty set, the division result is the projection of <span class="math inline">\(R_1\)</span> on <span class="math inline">\(A\)</span>:</li>
</ul>
<p><span class="math display">\[
R_1 \div \emptyset = \pi_{A}(R_1)
\]</span></p>
<ul>
<li><strong>Division with itself</strong> – Dividing a relation by itself results in an empty set unless <span class="math inline">\(R_2\)</span> contains only tuples present in <span class="math inline">\(R_1\)</span>:</li>
</ul>
<p><span class="math display">\[
R_1 \div R_1 = \emptyset \quad \text{(if } R_1 \text{ and } R_2 \text{ are identical and non-empty)}
\]</span></p>
<ul>
<li><strong>Division with a superset</strong> – If <span class="math inline">\(R_2\)</span> is a superset of <span class="math inline">\(B\)</span>-values in <span class="math inline">\(R_1\)</span>, the result is empty:</li>
</ul>
<p><span class="math display">\[
R_1 \div R_2 = \emptyset \quad \text{(if } \pi_B(R_2) \not\subseteq \pi_B(R_1))
\]</span></p>
</div>
</section>
<section id="explanation" class="level3">
<h3 class="anchored" data-anchor-id="explanation">Explanation:</h3>
<ul>
<li><strong>Not commutative</strong>: The order of relations in the division operation matters, as dividing one relation by another is not symmetric.</li>
<li><strong>Non-associative</strong>: Division is not associative, meaning that the order in which you perform multiple division operations can affect the result.</li>
<li><strong>Division with an empty set</strong>: If <span class="math inline">\(R_2\)</span> is empty, the result is the projection of <span class="math inline">\(R_1\)</span> on <span class="math inline">\(A\)</span>, as no conditions exist for <span class="math inline">\(B\)</span> attributes.</li>
<li><strong>Division with itself</strong>: Dividing a relation by itself typically results in an empty set unless all tuples from <span class="math inline">\(R_2\)</span> are in <span class="math inline">\(R_1\)</span>.</li>
<li><strong>Division with a superset</strong>: If <span class="math inline">\(R_2\)</span> contains values that don’t appear in <span class="math inline">\(R_1\)</span>, the result is empty since no <span class="math inline">\(A\)</span>-values in <span class="math inline">\(R_1\)</span> satisfy the matching condition for all tuples in <span class="math inline">\(R_2\)</span>.</li>
</ul>
</section>
</section>
<section id="division-syntax-and-example" class="level2">
<h2 class="anchored" data-anchor-id="division-syntax-and-example">Division: Syntax and Example</h2>
<p>Division can be represented using the <code>/</code> operator between two relations. Understanding how this operator works in practice will help you apply it correctly.</p>
<div class="guide-block-left">
<ul>
<li>Syntax: <code>R / S</code> where <code>R</code> is the dividend and <code>S</code> is the divisor.</li>
<li>Example: Find students enrolled in all mandatory courses: <code>StudentCourses / MandatoryCourses</code>.</li>
<li>Involves projecting attributes from <code>R</code> that do not appear in <code>S</code>.</li>
<li>Often paired with set difference to exclude unwanted tuples.</li>
<li>Typically used when one relation defines a subset of another relation’s attributes.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>The division operator retrieves records that match a complete set of conditions across relations.</em></p>
</section>
<section id="practical-use-case-for-division" class="level2">
<h2 class="anchored" data-anchor-id="practical-use-case-for-division">Practical Use Case for Division</h2>
<p>Division is especially useful in scenarios where a tuple needs to be related to all tuples in another relation, such as students attending all classes or employees assigned to all projects.</p>
<div class="guide-block-left">
<ul>
<li>Example: “Find suppliers who supply all products in a given category.”</li>
<li>Applicable in situations where completeness across multiple related attributes is required.</li>
<li>Helps with queries involving all relationships between a set of tuples.</li>
<li>Simplifies queries that would otherwise require multiple joins or nested operations.</li>
<li>Especially common in constraint-related queries, such as project assignments.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>Division is ideal for scenarios where a record must meet all criteria in a related set.</em></p>
</section>
<section id="common-mistakes-with-division" class="level2">
<h2 class="anchored" data-anchor-id="common-mistakes-with-division">Common Mistakes with Division</h2>
<p>Although powerful, division can be misused or misunderstood, particularly in situations where its requirements aren’t fully met. This slide highlights common pitfalls to avoid.</p>
<div class="guide-block-left">
<ul>
<li>Confusing division with joins, especially in multi-relation queries.</li>
<li>Forgetting that all tuples in the divisor must match for a result to be returned.</li>
<li>Misinterpreting the need for completeness across tuples in both relations.</li>
<li>Using division in cases where a simple join would suffice.</li>
<li>Failing to project the correct attributes before performing the operation.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>Avoid these common errors to ensure the correct application of division in your queries.</em></p>
</section>
<section id="renaming-and-division-in-query-design" class="level2">
<h2 class="anchored" data-anchor-id="renaming-and-division-in-query-design">Renaming and Division in Query Design</h2>
<p>Combining renaming and division can lead to highly readable, efficient queries. This slide demonstrates how these operations complement each other in practice.</p>
<div class="guide-block-left">
<ul>
<li>Renaming helps clarify relations and attributes before applying division.</li>
<li>Avoids ambiguity when the same attributes are present in both relations.</li>
<li>Ensures that division works on correctly named attributes.</li>
<li>Improves readability of queries, especially in complex database structures.</li>
<li>Example: <code>ρ(StudentCourses/AllCourses)</code> can clarify query intent and results.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>Renaming can simplify and clarify the application of division in query design.</em></p>
</section>
<section id="limitations-of-division-in-relational-algebra" class="level2">
<h2 class="anchored" data-anchor-id="limitations-of-division-in-relational-algebra">Limitations of Division in Relational Algebra</h2>
<p>Division, while useful, has limitations and is not appropriate for all query types. Understanding these constraints will help avoid unnecessary complexity in queries.</p>
<div class="guide-block-left">
<ul>
<li>Division requires exact matching across relations, which may not be flexible enough for some queries.</li>
<li>Not suitable for situations where partial matches are acceptable.</li>
<li>Can be less intuitive than other relational operations like join or projection.</li>
<li>Often difficult to optimize in large databases due to its complexity.</li>
<li>Sometimes requires preprocessing or additional operations to work effectively.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>Division is powerful but limited by its strict requirements for matching across relations.</em></p>
</section>
<section id="alternatives-to-division" class="level2">
<h2 class="anchored" data-anchor-id="alternatives-to-division">Alternatives to Division</h2>
<p>In cases where division is not the best fit, other relational operations may be more appropriate. This slide explores alternatives such as joins and nested queries.</p>
<div class="guide-block-left">
<ul>
<li>Join operations, including natural and theta joins, often provide more flexible alternatives to division.</li>
<li>Nested queries can sometimes replace division, offering more control over specific conditions.</li>
<li>Set operations like intersection and difference may achieve similar results.</li>
<li>Depending on the database design, a series of joins and selections may be more efficient.</li>
<li>SQL often handles division-like queries using alternative constructs like <code>HAVING</code> or correlated subqueries.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>Consider alternatives to division when its strict requirements don’t fit the query’s needs.</em></p>
</section>
<section id="summary-of-renaming-and-division" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-renaming-and-division">Summary of Renaming and Division</h2>
<p>Renaming and division are important operations in relational algebra, each with its own use cases and limitations. Properly applied, these tools enhance both query design and execution.</p>
<div class="guide-block-left">
<ul>
<li>Renaming clarifies queries by giving distinct names to relations and attributes.</li>
<li>Division helps identify tuples related to all members of another relation.</li>
<li>Division is strict and requires complete matching, while renaming aids in query readability.</li>
<li>Both operations are essential for complex query design and practical database management.</li>
<li>Combining these tools can lead to clearer and more efficient relational queries.</li>
</ul>
</div>
<div class="guide-block-right">

</div>
<p><em>Understanding renaming and division allows for more advanced and efficient database queries.</em></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../relational-models/join-operations.html" class="pagination-link" aria-label="Join Operations*">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Join Operations*</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../relational-models/relational-algebra-vs-sql.html" class="pagination-link" aria-label="Relational algebra vs SQL">
        <span class="nav-page-text">Relational algebra vs SQL</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>